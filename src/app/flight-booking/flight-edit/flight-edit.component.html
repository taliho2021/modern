<div class="min-h-screen bg-base-100" style="margin: -2rem; padding: 2rem">
  <div class="container mx-auto px-4 py-8">
    <div class="card bg-base-200 shadow-xl">
      <div class="card-body">
        <h2 class="card-title text-3xl text-primary mb-6">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-8 w-8"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
            />
          </svg>
          Flight Edit
        </h2>

        @if (flightForm.id().value() !== 0) {
        <!-- Form level errors -->
        @if (flightForm().errors()) {
        <div class="alert alert-warning mb-4">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="stroke-current shrink-0 h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"
            />
          </svg>
          <div>
            <h3 class="font-bold">Form Errors</h3>
            <div class="text-xs">{{ flightForm().errors() | json }}</div>
          </div>
        </div>
        }

        <form class="space-y-4" (ngSubmit)="save()">
          <div class="form-control">
            <label class="label" for="flight-id">
              <span class="label-text font-semibold">Flight ID</span>
            </label>
            <input
              class="input input-bordered"
              [control]="flightForm.id"
              id="flight-id"
              name="id"
              type="number"
            />
          </div>

          <div class="form-control">
            <label class="label" for="flight-from">
              <span class="label-text font-semibold">From</span>
            </label>
            <input
              class="input input-bordered"
              [control]="flightForm.from"
              id="flight-from"
              name="from"
              type="text"
              placeholder="Departure city"
            />
            @if (flightForm.from().errors()) {
            <label class="label">
              <span class="label-text-alt text-error">{{
                flightForm.from().errors() | json
              }}</span>
            </label>
            }
          </div>

          <div class="form-control">
            <label class="label" for="flight-to">
              <span class="label-text font-semibold">To</span>
            </label>
            <input
              class="input input-bordered"
              [control]="flightForm.to"
              id="flight-to"
              name="to"
              type="text"
              placeholder="Destination city"
            />
            @if (flightForm.to().errors()) {
            <label class="label">
              <span class="label-text-alt text-error">{{
                flightForm.to().errors() | json
              }}</span>
            </label>
            }
          </div>

          <div class="form-control">
            <label class="label" for="flight-date">
              <span class="label-text font-semibold">Date & Time</span>
            </label>
            <input
              class="input input-bordered"
              [control]="flightForm.date"
              id="flight-date"
              type="datetime-local"
              name="date"
            />
          </div>

          <div class="form-control">
            <label class="label cursor-pointer">
              <span class="label-text font-semibold">Delayed</span>
              <input
                type="checkbox"
                class="checkbox checkbox-primary"
                [control]="flightForm.delayed"
                id="flight-delayed"
                name="delayed"
              />
            </label>
          </div>

          <div class="card-actions justify-end mt-6">
            <button class="btn btn-primary btn-lg" type="submit">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 mr-2"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 13l4 4L19 7"
                />
              </svg>
              Save Flight
            </button>
          </div>
        </form>
        } @if(isPending()) {
        <div class="overlay">
          <mat-progress-spinner mode="indeterminate" diameter="60">
          </mat-progress-spinner>
        </div>
        }
      </div>
    </div>
  </div>
</div>
